@model Teamownik.Web.Models.EditProfileViewModel
@{
ViewData["Title"] = "Edytuj Profil";
Layout = null;
}

<!DOCTYPE html>
<html lang="pl" data-bs-theme="light">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Edytuj Profil - Teamownik</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
</head>

<body class="bg-light" style="padding-top: 66px; padding-bottom: 80px;">

@await Html.PartialAsync("_Navbar")
<div class="container" style="max-width: 900px;">
    <div class="bg-white p-3 shadow-sm mb-3 rounded-3 position-sticky" style="top: 66px; z-index: 1020;">
        <div class="d-flex align-items-center gap-3">
            <a href="/Profile" class="text-decoration-none fs-4 text-dark"><i class="bi bi-arrow-left"></i></a>
            <div class="fw-bold fs-5 text-dark">Edytuj profil</div>
        </div>
    </div>
</div>

<div class="container" style="max-width: 900px;">

    <div class="bg-white p-3 shadow-sm mb-4 rounded-4">
        <h2 class="h5 fw-bold mb-3">Dane osobowe</h2>

        <div class="card mb-3 shadow-sm border-0">
            <div class="card-body">

                <form id="editProfileForm" asp-action="Edit" asp-controller="Profile" method="post">
                    @Html.AntiForgeryToken()

                    <div asp-validation-summary="ModelOnly" class="alert alert-danger rounded-3 mb-3" role="alert"></div>

                    <div class="mb-4">
                        <label class="form-label small text-muted fw-medium" asp-for="FirstName">
                            <i class="bi bi-person-fill text-info me-1"></i>Imię
                        </label>
                        <input type="text" asp-for="FirstName"
                               class="form-control form-control-lg rounded-3 bg-light border-0"
                               placeholder="Wpisz imię">
                        <span asp-validation-for="FirstName" class="text-danger small"></span>
                    </div>

                    <div class="mb-4">
                        <label class="form-label small text-muted fw-medium" asp-for="LastName">
                            <i class="bi bi-person-badge-fill text-info me-1"></i>Nazwisko
                        </label>
                        <input type="text" asp-for="LastName"
                               class="form-control form-control-lg rounded-3 bg-light border-0"
                               placeholder="Wpisz nazwisko">
                        <span asp-validation-for="LastName" class="text-danger small"></span>
                    </div>

                    <div class="mb-4">
                        <label class="form-label small text-muted fw-medium">
                            <i class="bi bi-envelope-fill text-info me-1"></i>E-mail
                        </label>
                        <input type="email" class="form-control form-control-lg rounded-3 bg-secondary bg-opacity-10 border-0"
                               value="@Model.Email" disabled>
                        <small class="text-muted">E-mail nie może być zmieniony</small>
                    </div>

                    <div class="mb-4">
                        <label class="form-label small text-muted fw-medium" asp-for="PhoneNumber">
                            <i class="bi bi-telephone-fill text-info me-1"></i>Numer telefonu
                        </label>
                        <input type="tel" asp-for="PhoneNumber"
                               class="form-control form-control-lg rounded-3 bg-light border-0"
                               placeholder="+48 123 456 789">
                        <span asp-validation-for="PhoneNumber" class="text-danger small"></span>
                    </div>

                </form>

            </div>
        </div>
    </div>

    <div class="d-flex flex-column gap-2">
        @* 2. Dodajemy atrybut form="editProfileForm" do przycisku submit *@
        <button type="submit" form="editProfileForm" class="btn btn-success btn-lg rounded-3 fw-semibold">
            <i class="bi bi-check-circle-fill me-2"></i>Zapisz zmiany
        </button>
        <a href="/Profile" class="btn btn-outline-secondary btn-lg rounded-3 fw-semibold">
            <i class="bi bi-x-circle me-2"></i>Anuluj
        </a>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>