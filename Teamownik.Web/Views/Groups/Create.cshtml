@model Teamownik.Web.Models.CreateGroupViewModel
@{
ViewData["Title"] = "Nowa Grupa";
Layout = null;
}

<!DOCTYPE html>
<html lang="pl" data-bs-theme="light">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nowa Grupa</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
</head>

<body class="bg-light" style="padding-top: 66px; padding-bottom: 80px; max-width: 900px; margin: 0 auto;">

@await Html.PartialAsync("_Navbar")

@* <header class="bg-white p-3 shadow sticky-top header-sticky-offset"> *@
@*     <div class="centered-content d-flex align-items-center justify-content-between"> *@
@*         <div class="d-flex align-items-center gap-3"> *@
@*             <a href="/Groups" class="text-decoration-none fs-4 text-dark"> *@
@*                 <i class="bi bi-arrow-left"></i> *@
@*             </a> *@
@*             <div class="fw-bold fs-5 text-dark">Szczegóły grupy</div> *@
@*             $1$ <div class="fw-bold fs-5 text-dark">Powrót</div> #1# *@
@*         </div> *@
@*     </div> *@
@* </header> *@

<div class="container" style="max-width: 900px;">
    <div class="bg-white p-3 shadow-sm mb-3 rounded-3 position-sticky" style="top: 66px; z-index: 1020;">
        <div class="d-flex align-items-center gap-3">
            <a href="/Groups" class="text-decoration-none fs-4 text-dark"><i class="bi bi-arrow-left"></i></a>
            <div class="fw-bold fs-5 text-dark">Utwórz grupę</div>
        </div>
    </div>
</div>

<div class="container mt-4">

    <div class="bg-white shadow-sm rounded-4 p-4">

        <form method="post" asp-action="Create" asp-controller="Groups">
            @Html.AntiForgeryToken()

            <div asp-validation-summary="ModelOnly" class="text-danger text-center mb-3"></div>

            <div class="mb-3">
                <label class="form-label fw-semibold" asp-for="GroupName">Nazwa grupy</label>
                <input asp-for="GroupName" type="text"
                       class="form-control form-control-lg"
                       placeholder="np. Mecze na Orlik" maxlength="100" required autofocus />
                <span asp-validation-for="GroupName" class="text-danger small"></span>

                <div id="counter" class="text-end small text-muted mt-1"></div>
            </div>

            <button type="submit" class="btn btn-dark w-100 btn-lg fw-bold mt-3">
                Utwórz grupę
            </button>

        </form>

    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    const input = document.querySelector('input[name="GroupName"]');
    const counter = document.getElementById("counter");

    function updateCounter() {
        const len = input.value.length;
        counter.innerText = `${len}/100 znaków`;

        if (len > 90) counter.classList.add("text-danger");
        else if (len > 70) counter.classList.add("text-warning");
        else counter.className = "text-end small text-muted mt-1";
    }

    if (input) {
        input.addEventListener("input", updateCounter);
        updateCounter();
    }
</script>

</body>
</html>